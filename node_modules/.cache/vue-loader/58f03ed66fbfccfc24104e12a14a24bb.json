{"remainingRequest":"/home/admin1/Desktop/ledger-cosmos-js (copy)/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/admin1/Desktop/ledger-cosmos-js (copy)/vue_example/components/LedgerExample.vue?vue&type=style&index=0&id=e8c94ad8&scoped=true&lang=css&","dependencies":[{"path":"/home/admin1/Desktop/ledger-cosmos-js (copy)/vue_example/components/LedgerExample.vue","mtime":1573107892715},{"path":"/home/admin1/Desktop/ledger-cosmos-js (copy)/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/admin1/Desktop/ledger-cosmos-js (copy)/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/admin1/Desktop/ledger-cosmos-js (copy)/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/admin1/Desktop/ledger-cosmos-js (copy)/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/admin1/Desktop/ledger-cosmos-js (copy)/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaDMgewogIG1hcmdpbjogNDBweCAwIDA7Cn0KCmJ1dHRvbiB7CiAgcGFkZGluZzogNXB4OwogIGZvbnQtd2VpZ2h0OiBib2xkOwogIGZvbnQtc2l6ZTogbWVkaXVtOwp9Cgp1bCB7CiAgcGFkZGluZzogMTBweDsKICB0ZXh0LWFsaWduOiBsZWZ0OwogIGFsaWdubWVudDogbGVmdDsKICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7CiAgYmFja2dyb3VuZDogYmxhY2s7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgY29sb3I6IGdyZWVueWVsbG93Owp9Cg=="},{"version":3,"sources":["LedgerExample.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmJA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LedgerExample.vue","sourceRoot":"vue_example/components","sourcesContent":["<template>\n  <div class=\"cosmosLedger\">\n    <input id=\"webusb\" v-model=\"transportChoice\" type=\"radio\" value=\"WebUSB\" />\n    <label for=\"webusb\">WebUSB</label>\n    <input id=\"u2f\" v-model=\"transportChoice\" type=\"radio\" value=\"U2F\" />\n    <label for=\"u2f\">U2F</label>\n    <br />\n    <!--\n        Commands\n    -->\n    \n    <button @click=\"showAddress\">\n      Show Address\n    </button>\n\n  \n    <!--\n        Commands\n    -->\n    <ul id=\"ledger-status\">\n      <li v-for=\"item in ledgerStatus\" :key=\"item.index\">\n        {{ item.msg }}\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport TransportWebUSB from \"@ledgerhq/hw-transport-webusb\";\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport TransportU2F from \"@ledgerhq/hw-transport-u2f\";\nimport CosmosApp from \"../../src\";\n\nexport default {\n  name: \"CosmosLedger\",\n  props: {},\n  data() {\n    return {\n      deviceLog: [],\n      transportChoice: \"U2F\",\n    };\n  },\n  computed: {\n    ledgerStatus() {\n      return this.deviceLog;\n    },\n  },\n  methods: {\n    log(msg) {\n      this.deviceLog.push({\n        index: this.deviceLog.length,\n        msg,\n      });\n    },\n    async getTransport() {\n      let transport = null;\n\n      this.log(`Trying to connect via ${this.transportChoice}...`);\n      if (this.transportChoice === \"WebUSB\") {\n        try {\n          transport = await TransportWebUSB.create();\n        } catch (e) {\n          this.log(e);\n        }\n      }\n\n      if (this.transportChoice === \"U2F\") {\n        try {\n          transport = await TransportU2F.create(10000);\n        } catch (e) {\n          this.log(e);\n        }\n      }\n\n      return transport;\n    },\n    async getVersion() {\n      this.deviceLog = [];\n\n      // Given a transport (U2F/HIF/WebUSB) it is possible instantiate the app\n      const transport = await this.getTransport();\n      const app = new CosmosApp(transport);\n\n      // now it is possible to access all commands in the app\n      const response = await app.getVersion();\n      if (response.return_code !== 0x9000) {\n        this.log(`Error [${response.return_code}] ${response.error_message}`);\n        return;\n      }\n\n      this.log(\"Response received!\");\n      this.log(`App Version ${response.major}.${response.minor}.${response.patch}`);\n      this.log(`Device Locked: ${response.device_locked}`);\n      this.log(`Test mode: ${response.test_mode}`);\n      this.log(\"Full response:\");\n      this.log(response);\n    },\n    async showAddress() {\n      this.deviceLog = [];\n\n      // Given a transport (U2F/HIF/WebUSB) it is possible instantiate the app\n      const transport = await this.getTransport();\n      const app = new CosmosApp(transport);\n\n      // now it is possible to access all commands in the app\n      this.log(\"Please click in the device\");\n      const path = [44, 118, 5, 0, 3];\n      const response = await app.getAddressAndPubKey(path, \"cosmos\");\n      if (response.return_code !== 0x9000) {\n        this.log(`Error [${response.return_code}] ${response.error_message}`);\n        return;\n      }\n\n      this.log(\"Response received!\");\n      this.log(`App.Version.${response.major}.${response.minor}.${response.patch}`);\n      this.log(`Device Locked: ${response.device_locked}`);\n      this.log(`Test mode: ${response.test_mode}`);\n      this.log(\"Full response:\");\n      this.log(response);\n    },\n    async signExampleTx() {\n      this.deviceLog = [];\n\n      // Given a transport (U2F/HIF/WebUSB) it is possible instantiate the app\n      const transport = await this.getTransport();\n      const app = new CosmosApp(transport);\n\n      // now it is possible to access all commands in the app\n      const path = [44, 118, 0, 0, 0];\n      const message =\n        '{\"account_number\":\"6571\",\"chain_id\":\"cosmoshub-2\",\"fee\":{\"amount\":[{\"amount\":\"5000\",\"denom\":\"uatom\"}],\"gas\":\"200000\"},\"memo\":\"Delegated with Ledger from union.market\",\"msgs\":[{\"type\":\"cosmos-sdk/MsgDelegate\",\"value\":{\"amount\":{\"amount\":\"1000000\",\"denom\":\"uatom\"},\"delegator_address\":\"cosmos102hty0jv2s29lyc4u0tv97z9v298e24t3vwtpl\",\"validator_address\":\"cosmosvaloper1grgelyng2v6v3t8z87wu3sxgt9m5s03xfytvz7\"}}],\"sequence\":\"0\"}';\n      const response = await app.sign(path, message);\n\n      this.log(\"Response received!\");\n      this.log(`App.Version.${response.major}.${response.minor}.${response.patch}`);\n      this.log(`Device Locked: ${response.device_locked}`);\n      this.log(`Test mode: ${response.test_mode}`);\n      this.log(\"Full response:\");\n      this.log(response);\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\n\nbutton {\n  padding: 5px;\n  font-weight: bold;\n  font-size: medium;\n}\n\nul {\n  padding: 10px;\n  text-align: left;\n  alignment: left;\n  list-style-type: none;\n  background: black;\n  font-weight: bold;\n  color: greenyellow;\n}\n</style>\n"]}]}