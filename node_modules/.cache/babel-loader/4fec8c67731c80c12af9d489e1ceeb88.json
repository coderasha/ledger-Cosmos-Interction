{"remainingRequest":"/home/admin1/Desktop/ledger-cosmos-js (copy)/node_modules/babel-loader/lib/index.js!/home/admin1/Desktop/ledger-cosmos-js (copy)/src/helperV2.js","dependencies":[{"path":"/home/admin1/Desktop/ledger-cosmos-js (copy)/src/helperV2.js","mtime":1573038128251},{"path":"/home/admin1/Desktop/ledger-cosmos-js (copy)/.babelrc","mtime":1573041144236},{"path":"/home/admin1/Desktop/ledger-cosmos-js (copy)/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/admin1/Desktop/ledger-cosmos-js (copy)/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHsgc2lnblNlbmRDaHVua3YxIH0gZnJvbSAiLi9oZWxwZXJWMSI7CmltcG9ydCB7IFBBWUxPQURfVFlQRSB9IGZyb20gIi4vY29tbW9uIjsKZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZVBhdGh2MihwYXRoKSB7CiAgaWYgKCFwYXRoIHx8IHBhdGgubGVuZ3RoICE9PSA1KSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgcGF0aC4iKTsKICB9CgogIHZhciBidWYgPSBCdWZmZXIuYWxsb2MoMjApOwogIGJ1Zi53cml0ZVVJbnQzMkxFKDB4ODAwMDAwMDAgKyBwYXRoWzBdLCAwKTsKICBidWYud3JpdGVVSW50MzJMRSgweDgwMDAwMDAwICsgcGF0aFsxXSwgNCk7CiAgYnVmLndyaXRlVUludDMyTEUoMHg4MDAwMDAwMCArIHBhdGhbMl0sIDgpOwogIGJ1Zi53cml0ZVVJbnQzMkxFKHBhdGhbM10sIDEyKTsKICBidWYud3JpdGVVSW50MzJMRShwYXRoWzRdLCAxNik7CiAgcmV0dXJuIGJ1ZjsKfQpleHBvcnQgZnVuY3Rpb24gc2lnblNlbmRDaHVua3YyKF94LCBfeDIsIF94MywgX3g0KSB7CiAgcmV0dXJuIF9zaWduU2VuZENodW5rdi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfc2lnblNlbmRDaHVua3YoKSB7CiAgX3NpZ25TZW5kQ2h1bmt2ID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgLyojX19QVVJFX18qLwogIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGFwcCwgY2h1bmtJZHgsIGNodW5rTnVtLCBjaHVuaykgewogICAgdmFyIHBheWxvYWRUeXBlOwogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgcGF5bG9hZFR5cGUgPSBQQVlMT0FEX1RZUEUuQUREOwoKICAgICAgICAgICAgaWYgKGNodW5rSWR4ID09PSAxKSB7CiAgICAgICAgICAgICAgcGF5bG9hZFR5cGUgPSBQQVlMT0FEX1RZUEUuSU5JVDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGNodW5rSWR4ID09PSBjaHVua051bSkgewogICAgICAgICAgICAgIHBheWxvYWRUeXBlID0gUEFZTE9BRF9UWVBFLkxBU1Q7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHNpZ25TZW5kQ2h1bmt2MShhcHAsIHBheWxvYWRUeXBlLCAwLCBjaHVuaykpOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CiAgcmV0dXJuIF9zaWduU2VuZENodW5rdi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9"},{"version":3,"sources":["/home/admin1/Desktop/ledger-cosmos-js (copy)/src/helperV2.js"],"names":["signSendChunkv1","PAYLOAD_TYPE","serializePathv2","path","length","Error","buf","Buffer","alloc","writeUInt32LE","signSendChunkv2","app","chunkIdx","chunkNum","chunk","payloadType","ADD","INIT","LAST"],"mappings":";;AAAA,SAASA,eAAT,QAAgC,YAAhC;AACA,SAASC,YAAT,QAA6B,UAA7B;AAEA,OAAO,SAASC,eAAT,CAAyBC,IAAzB,EAA+B;AACpC,MAAI,CAACA,IAAD,IAASA,IAAI,CAACC,MAAL,KAAgB,CAA7B,EAAgC;AAC9B,UAAM,IAAIC,KAAJ,CAAU,eAAV,CAAN;AACD;;AAED,MAAMC,GAAG,GAAGC,MAAM,CAACC,KAAP,CAAa,EAAb,CAAZ;AACAF,EAAAA,GAAG,CAACG,aAAJ,CAAkB,aAAaN,IAAI,CAAC,CAAD,CAAnC,EAAwC,CAAxC;AACAG,EAAAA,GAAG,CAACG,aAAJ,CAAkB,aAAaN,IAAI,CAAC,CAAD,CAAnC,EAAwC,CAAxC;AACAG,EAAAA,GAAG,CAACG,aAAJ,CAAkB,aAAaN,IAAI,CAAC,CAAD,CAAnC,EAAwC,CAAxC;AACAG,EAAAA,GAAG,CAACG,aAAJ,CAAkBN,IAAI,CAAC,CAAD,CAAtB,EAA2B,EAA3B;AACAG,EAAAA,GAAG,CAACG,aAAJ,CAAkBN,IAAI,CAAC,CAAD,CAAtB,EAA2B,EAA3B;AAEA,SAAOG,GAAP;AACD;AAED,gBAAsBI,eAAtB;AAAA;AAAA;;;;;2BAAO,iBAA+BC,GAA/B,EAAoCC,QAApC,EAA8CC,QAA9C,EAAwDC,KAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AACDC,YAAAA,WADC,GACad,YAAY,CAACe,GAD1B;;AAEL,gBAAIJ,QAAQ,KAAK,CAAjB,EAAoB;AAClBG,cAAAA,WAAW,GAAGd,YAAY,CAACgB,IAA3B;AACD;;AACD,gBAAIL,QAAQ,KAAKC,QAAjB,EAA2B;AACzBE,cAAAA,WAAW,GAAGd,YAAY,CAACiB,IAA3B;AACD;;AAPI,6CASElB,eAAe,CAACW,GAAD,EAAMI,WAAN,EAAmB,CAAnB,EAAsBD,KAAtB,CATjB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import { signSendChunkv1 } from \"./helperV1\";\nimport { PAYLOAD_TYPE } from \"./common\";\n\nexport function serializePathv2(path) {\n  if (!path || path.length !== 5) {\n    throw new Error(\"Invalid path.\");\n  }\n\n  const buf = Buffer.alloc(20);\n  buf.writeUInt32LE(0x80000000 + path[0], 0);\n  buf.writeUInt32LE(0x80000000 + path[1], 4);\n  buf.writeUInt32LE(0x80000000 + path[2], 8);\n  buf.writeUInt32LE(path[3], 12);\n  buf.writeUInt32LE(path[4], 16);\n\n  return buf;\n}\n\nexport async function signSendChunkv2(app, chunkIdx, chunkNum, chunk) {\n  let payloadType = PAYLOAD_TYPE.ADD;\n  if (chunkIdx === 1) {\n    payloadType = PAYLOAD_TYPE.INIT;\n  }\n  if (chunkIdx === chunkNum) {\n    payloadType = PAYLOAD_TYPE.LAST;\n  }\n\n  return signSendChunkv1(app, payloadType, 0, chunk);\n}\n"]}]}